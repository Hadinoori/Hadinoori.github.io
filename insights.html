<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insights | Hadi Noori</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Lora:italic,wght@0,700;1,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-main: #fcfcfc;
            --text-primary: #0a0a0a;
            --text-muted: #525252;
            --accent-blue: #1e3a8a; 
            --ui-border: #e2e8f0;
            --font-serif: 'Lora', Georgia, serif;
            --font-sans: 'Inter', -apple-system, sans-serif;
            --spine: 280px; 
        }
        body { background-color: var(--bg-main); font-family: var(--font-sans); color: var(--text-primary); margin: 0; -webkit-font-smoothing: antialiased; }
        .wrap { max-width: 1100px; margin: 0 auto; padding: 0 40px; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 50px 0 30px; border-bottom: 1px solid var(--ui-border); }
        .header-brand { text-decoration: none; color: var(--text-primary); margin-left: -2px; }
        .brand-name { font-size: 0.95rem; font-weight: 900; text-transform: uppercase; letter-spacing: 3px; display: block; }
        .brand-sub { font-size: 0.65rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; color: var(--text-muted); margin-top: 4px; display: block; }
        nav { display: flex; gap: 30px; }
        nav a { text-decoration: none; font-size: 0.8rem; font-weight: 800; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1.5px; padding-bottom: 4px; border-bottom: 2px solid transparent; }
        nav a.active { color: var(--text-primary); border-bottom-color: var(--text-primary); }
        .page-title { font-family: var(--font-serif); font-size: 3.5rem; margin: 80px 0 60px; letter-spacing: -3px; border-bottom: 2px solid var(--text-primary); padding-bottom: 20px; }
        .entry { display: grid; grid-template-columns: var(--spine) 1fr; gap: 80px; padding: 60px 0; border-bottom: 1px solid var(--ui-border); text-decoration: none; color: inherit; transition: 0.2s; }
        .entry:hover { background: #f9fafb; }
        .meta-spine { font-size: 0.8rem; font-weight: 800; color: var(--text-muted); text-align: right; padding-top: 10px; }
        .source-tag { color: var(--accent-blue); display: block; margin-top: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .entry-content h2 { font-family: var(--font-serif); font-size: 2.4rem; line-height: 1.1; margin: 0 0 15px; letter-spacing: -1px; }
        .entry-content p { font-size: 1.15rem; color: var(--text-muted); line-height: 1.6; margin: 0; max-width: 55ch; }
        footer { margin-top: 100px; padding: 40px 0; border-top: 1px solid var(--ui-border); font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px; display: flex; justify-content: space-between; }
        @media (max-width: 900px) { .entry { grid-template-columns: 1fr; gap: 20px; } .meta-spine { text-align: left; } }
    </style>
</head>
<body>
    <div class="wrap">
        <header>
            <a href="index.html" class="header-brand">
                <span class="brand-name">Hadi Noori</span>
                <span class="brand-sub">Strategic AI Governance</span>
            </a>
            <nav>
                <a href="insights.html" class="active">Insights</a>
                <a href="playbooks.html">Playbooks</a>
                <a href="dossier.html">Dossier</a>
                <a href="contact.html">Inquiry</a>
            </nav>
        </header>
        <main id="insights-container">
            <h1 class="page-title">Insights.</h1>
            <div id="loading" style="padding: 40px 0; color: var(--text-muted); font-weight: 800; text-transform: uppercase; letter-spacing: 2px;">Establishing Secure Connection...</div>
        </main>
        <footer>
            <span>&copy; 2026 Hadi Noori</span>
            <span>Vancouver, BC &mdash; Canada</span>
        </footer>
    </div>

    <script>
        async function fetchInsights() {
            const container = document.getElementById('insights-container');
            const loading = document.getElementById('loading');
            const REPO = 'Hadinoori/Hadinoori.github.io'; // اطلاعات شما جایگذاری شد
            const API = `https://api.github.com/repos/${REPO}/contents/_insights`;

            try {
                const res = await fetch(API);
                const files = await res.json();
                if(loading) loading.remove();
                for (const file of files) {
                    if (file.name.endsWith('.md')) {
                        const contentRes = await fetch(file.download_url);
                        const text = await contentRes.text();
                        const title = text.match(/title:\s*"(.*)"/)?.[1] || text.match(/title:\s*(.*)/)?.[1] || "Untitled";
                        const date = text.match(/date:\s*(.*)/)?.[1] || "";
                        const source = text.match(/source:\s*(.*)/)?.[1] || "Original";
                        const desc = text.match(/description:\s*"(.*)"/)?.[1] || text.match(/description:\s*(.*)/)?.[1] || "";
                        
                        const html = `
                            <article class="entry">
                                <div class="meta-spine">${new Date(date).toLocaleDateString('en-US', {month:'short', year:'numeric'})}<span class="source-tag">${source}</span></div>
                                <div class="entry-content"><h2>${title}</h2><p>${desc}</p></div>
                            </article>`;
                        container.insertAdjacentHTML('beforeend', html);
                    }
                }
            } catch (e) { console.error(e); if(loading) loading.innerText = "Error syncing insights."; }
        }
        window.onload = fetchInsights;
    </script>
</body>
</html>
