<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Hadi Noori | Strategic AI Governance</title>
  <meta name="description" content="Strategic AI Governance. Designing accountable protocols for high-stakes AI deployment where legitimacy matters." />
  <meta name="robots" content="index, follow" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/img/sidebar-logo.png" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Lora:ital,wght@0,600;0,700;1,400&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-main:#fafafa;
      --text-primary:#111;
      --text-secondary:#444;
      --text-meta:#767676;
      --accent-blue:#1e3a8a;
      --ui-border:#e5e5e5;

      --font-serif:'Lora',Georgia,serif;
      --font-sans:'Inter',sans-serif;

      --spine-width:clamp(140px,15vw,180px);
      --content-pad:clamp(40px,5vw,60px);
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:var(--font-sans);
      background:var(--bg-main);
      color:var(--text-primary);
      line-height:1.4;
      min-height:100vh;
    }

    /* Layout */
    .grid-layout{
      display:grid;
      grid-template-columns:var(--spine-width) 1fr;
      min-height:100vh;
    }

    /* Spine */
    .spine{
      padding:40px 20px;
      border-right:1px solid var(--ui-border);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }

    .spine-logo{
      font-family:var(--font-serif);
      font-weight:700;
      text-decoration:none;
      color:var(--text-primary);
      letter-spacing:0.2px;
    }

    .spine-nav{
      margin-top:50px;
    }

    .spine-nav a{
      display:block;
      padding:12px 0;
      font-size:.75rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:1px;
      text-decoration:none;
      color:var(--text-meta);
      transition:color .2s ease;
    }

    .spine-nav a:hover{ color:var(--text-primary); }

    .spine-footer{
      font-size:.75rem;
      color:var(--text-meta);
    }

    /* Main */
    .main-content{
      padding:40px var(--content-pad);
    }

    /* Header */
    .site-header{
      display:flex;
      justify-content:flex-end;
      gap:30px;
      margin-bottom:34px;
    }

    .site-header a{
      font-size:.8rem;
      font-weight:500;
      text-decoration:none;
      color:var(--text-meta);
      transition:color .2s ease;
    }

    .site-header a:hover{ color:var(--accent-blue); }

    /* Hero */
    .hero-section{
      display:grid;
      grid-template-columns:240px 1fr;
      gap:60px;
      margin-bottom:34px;
      align-items:start;
    }

    .hero-image{
      width:240px;
      aspect-ratio:4 / 5;
      background:#f2f2f2;
      overflow:hidden;
      border-radius:10px;
      border:1px solid var(--ui-border);
    }

    .hero-image img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:50% 25%;
      filter:none !important;
      -webkit-filter:none !important;
    }

    /* Brand lockup (this is the center of gravity) */
    .brandline{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:16px;
    }

    .brandmark{
      width:40px;
      height:40px;
      border-radius:12px;
      border:1px solid var(--ui-border);
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 1px 0 rgba(0,0,0,0.03);
      flex:0 0 auto;
    }

    .brandmark img{
      width:20px;
      height:20px;
      opacity:.95;
    }

    .brandname{
      font-family:var(--font-serif);
      font-weight:700;
      font-size:1.55rem; /* bigger */
      line-height:1.05;
    }

    .brandtitle{
      margin-top:6px;
      font-size:.76rem;
      font-weight:700;
      letter-spacing:1.4px;
      text-transform:uppercase;
      color:var(--text-meta);
    }

    .hero-text h1{
      font-family:var(--font-serif);
      font-size:clamp(2.5rem,4vw,3.8rem);
      font-weight:600;
      line-height:1.1;
      margin-bottom:18px;
    }

    .hero-text .highlight{
      font-style:italic;
      font-weight:400;
    }

    .hero-subtitle{
      max-width:60ch;
      font-size:1.05rem;
      color:var(--text-secondary);
      margin-bottom:22px;
    }

    .hero-links a{
      display:inline-block;
      margin-right:25px;
      font-size:.9rem;
      font-weight:600;
      text-decoration:none;
      color:var(--text-primary);
      border-bottom:1px solid var(--text-primary);
      padding-bottom:2px;
      transition:color .2s ease, border-color .2s ease;
    }

    .hero-links a:hover{
      color:var(--accent-blue);
      border-color:var(--accent-blue);
    }

    /* Divider line aligned to the right column rhythm */
    .divider{
      border-top:1px solid var(--ui-border);
      margin: 26px 0 18px;
    }

    /* Selected Intelligence as a compact CARD (not a section) */
    .selected-card{
      max-width: 760px;
      border:1px solid var(--ui-border);
      border-radius:12px;
      background:#fff;
      padding:18px 18px 14px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.02);
    }

    .card-head{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:16px;
      margin-bottom:10px;
    }

    .card-label{
      font-size:.72rem;
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:1.6px;
      color:var(--text-meta);
      white-space:nowrap;
    }

    .card-link{
      font-size:.72rem;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:.6px;
      color:var(--text-meta);
      text-decoration:none;
      white-space:nowrap;
      transition:color .2s ease;
    }

    .card-link:hover{ color:var(--accent-blue); }

    .card-note{
      margin:0 0 14px 0;
      color:var(--text-secondary);
      font-size:.92rem;
      max-width: 72ch;
    }

    .selected-list{
      display:flex;
      flex-direction:column;
      gap:12px;
      margin-top:6px;
    }

    .sel-item{
      padding-top:10px;
      border-top:1px solid var(--ui-border);
    }

    .sel-item:first-child{
      border-top:none;
      padding-top:0;
    }

    .sel-title{
      font-family:var(--font-serif);
      font-size:1.05rem;
      font-weight:700;
      line-height:1.25;
      margin-bottom:4px;
    }

    .sel-title a{
      color:var(--text-primary);
      text-decoration:none;
    }

    .sel-title a:hover{ color:var(--accent-blue); }

    .sel-desc{
      color:var(--text-secondary);
      font-size:.92rem;
      max-width: 70ch;
    }

    .sel-meta{
      margin-top:6px;
      font-size:.72rem;
      font-weight:700;
      letter-spacing:1.1px;
      text-transform:uppercase;
      color:var(--text-meta);
    }

    /* Mobile */
    @media (max-width: 768px){
      .grid-layout{ grid-template-columns:1fr; }

      .spine{
        border-right:none;
        border-bottom:1px solid var(--ui-border);
        padding:20px;
      }

      .spine-nav{
        margin-top:0;
        display:flex;
        gap:18px;
        flex-wrap:wrap;
      }

      .spine-nav a{
        padding:0;
        font-size:.7rem;
      }

      .spine-footer{ display:none; }

      .main-content{ padding:20px; }

      .site-header{
        justify-content:flex-start;
        margin-bottom:26px;
      }

      .hero-section{
        grid-template-columns:1fr;
        gap:22px;
        margin-bottom:22px;
      }

      .hero-image{ width:220px; }

      .selected-card{ padding:16px; }
    }
  </style>
</head>

<body>
  <div class="grid-layout">

    <aside class="spine">
      <div>
        <a href="/" class="spine-logo">Home</a>

        <nav class="spine-nav">
          <a href="insights.html">Insights</a>
          <a href="projects.html">Projects</a>
          <a href="contact.html">Inquiry</a>
        </nav>
      </div>

      <footer class="spine-footer">
        © 2026 Hadi Noori<br>
        Vancouver, BC
      </footer>
    </aside>

    <main class="main-content">
      <header class="site-header">
        <a href="contact.html">Contact</a>
        <a href="dossier.html">Full Dossier</a>
      </header>

      <section class="hero-section">
        <div class="hero-image">
          <img src="assets/img/home-profile.jpg?v=2" alt="Hadi Noori">
        </div>

        <div class="hero-text">
          <!-- Brand lockup -->
          <div class="brandline">
            <div class="brandmark" aria-hidden="true">
              <img src="assets/img/sidebar-logo.png" alt="">
            </div>
            <div>
              <div class="brandname">Hadi Noori</div>
              <div class="brandtitle">Strategic AI Governance</div>
            </div>
          </div>

          <h1>
            Intelligence is <span class="highlight">fragile</span>.<br>
            Governance is its <span class="highlight">armor</span>.
          </h1>

          <p class="hero-subtitle">
            Building accountable protocols for high-stakes AI deployment —
            where technical performance is not enough, and legitimacy matters.
          </p>

          <div class="hero-links">
            <a href="contact.html">Start a Conversation</a>
            <a href="dossier.html">View Full Dossier</a>
          </div>
        </div>
      </section>

      <div class="divider"></div>

      <!-- Selected Intelligence (compact card) -->
      <section class="selected-card" aria-label="Selected Intelligence">
        <div class="card-head">
          <div class="card-label">Selected Intelligence</div>
          <a class="card-link" href="insights.html">View Archive →</a>
        </div>

        <p class="card-note">Selections update when positions evolve — not on a fixed schedule.</p>

        <div id="selected-container" class="selected-list">
          <!-- Fallback content (will be replaced if API loads) -->
          <div class="sel-item">
            <div class="sel-title"><a href="insights.html">View selected positions in the archive</a></div>
            <div class="sel-desc">A curated set of briefs and position papers — updated as needed.</div>
            <div class="sel-meta">Archive</div>
          </div>
        </div>
      </section>

      <script>
        // Load 2 selected items from GitHub _insights (titles + short desc only)
        async function loadSelected() {
          const container = document.getElementById('selected-container');

          try {
            const response = await fetch('https://api.github.com/repos/hadinoori/hadinoori.ca/contents/_insights');
            if (!response.ok) throw new Error('Insights fetch failed');

            const files = await response.json();

            const markdownFiles = files
              .filter(f => f.name.endsWith('.md'))
              .sort((a, b) => b.name.localeCompare(a.name));

            let html = '';
            let found = 0;

            for (const file of markdownFiles) {
              if (found >= 2) break;

              const fileResponse = await fetch(file.download_url);
              const content = await fileResponse.text();

              const frontMatterMatch = content.match(/^---\s*([\s\S]*?)\s*---/);
              if (!frontMatterMatch) continue;

              const fm = frontMatterMatch[1];
              const titleMatch = fm.match(/title:\s*["']?(.*?)["']?\s*$/m);
              const descriptionMatch = fm.match(/description:\s*["']?(.*?)["']?\s*$/m);
              const selectedMatch = fm.match(/selected_dispatch:\s*["']?(.*?)["']?\s*$/m);
              const externalUrlMatch = fm.match(/external_url:\s*["']?(.*?)["']?\s*$/m);
              const typeMatch = fm.match(/type:\s*["']?(.*?)["']?\s*$/m);

              if (!(selectedMatch && selectedMatch[1].toLowerCase() === 'true')) continue;

              found++;

              const title = titleMatch ? titleMatch[1] : 'Untitled';
              const desc = descriptionMatch ? descriptionMatch[1] : '';
              const externalUrl = externalUrlMatch ? externalUrlMatch[1] : null;
              const type = typeMatch ? typeMatch[1] : 'Dispatch';

              const link = externalUrl ? externalUrl : `insights/${file.name.replace('.md', '.html')}`;
              const target = externalUrl ? ' target="_blank" rel="noopener noreferrer"' : '';

              html += `
                <div class="sel-item">
                  <div class="sel-title"><a href="${link}"${target}>${escapeHTML(title)}</a></div>
                  <div class="sel-desc">${escapeHTML(desc)}</div>
                  <div class="sel-meta">${escapeHTML(type)}</div>
                </div>
              `;
            }

            if (found > 0) {
              container.innerHTML = html;
            }
          } catch (e) {
            // Keep fallback (do nothing) — authority-safe
          }
        }

        function escapeHTML(str) {
          if (!str) return '';
          return str.replace(/[&<>"']/g, m => ({
            '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
          }[m]));
        }

        document.addEventListener('DOMContentLoaded', loadSelected);
      </script>

    </main>
  </div>
</body>
</html>
